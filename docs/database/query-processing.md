---
title: æ•°æ®åº“:æŸ¥è¯¢å¤„ç†
comments: false
---

## æŸ¥è¯¢å¤„ç†æµç¨‹

æŸ¥è¯¢å¤„ç†æµç¨‹å¯ä»¥ç®€å•çš„åˆ†ä¸º:

1. è¯­ä¹‰æ£€æŸ¥å’ŒæŸ¥è¯¢é‡å†™: æ£€æŸ¥æŸ¥è¯¢è¯­å¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯æˆ–è€…è¯­ä¹‰é—®é¢˜. ç„¶åŽå°†SQLæŸ¥è¯¢è½¬æ¢ä¸º[å…³ç³»ä»£æ•°è¡¨è¾¾å¼](/database/relational-algebra), å¯ä»¥è¢«è¡¨ç¤ºä¸ºä¸€é¢—è¡¨è¾¾å¼æ ‘(expression tree), å¦‚[å›¾](https://img.ricolxwz.io/a99283244cfa79f7c7629924cc0cff5d.png)æ‰€ç¤º. æœ€åŽå°†[è§†å›¾](/database/advanced-sql/#view)æ›¿æ¢ä¸ºå®žé™…çš„å­æŸ¥è¯¢, ä»¥ä¾¿è¿›ä¸€æ­¥å¤„ç†
2. æŸ¥è¯¢ä¼˜åŒ–: åœ¨æ‰€æœ‰ç­‰ä»·çš„æŸ¥è¯¢è®¡åˆ’ä¸­, é€‰æ‹©æˆæœ¬æœ€ä½Žçš„è®¡åˆ’:
    1. é€»è¾‘æŸ¥è¯¢è®¡åˆ’ä¼˜åŒ–: åœ¨å…³ç³»ä»£æ•°å±‚é¢ä½¿ç”¨å¯å‘å¼æ–¹æ³•(å¯¹è¡¨è¾¾å¼æ ‘è¿›è¡Œé‡æ–°æŽ’åˆ—æ“ä½œ, ä»¥å‡å°‘ä¸­é—´ç»“æžœçš„å¤§å°, å‡å°‘ä¸´æ—¶æ•°æ®çš„å­˜å‚¨å’Œè®¡ç®—é‡)è¿›è¡Œä¼˜åŒ–
    2. ç‰©ç†æŸ¥è¯¢è®¡åˆ’ä¼˜åŒ–: åŸºäºŽæˆæœ¬ä¼°ç®—(æœ€å°åŒ–ç£ç›˜IOæ¬¡æ•°)é€‰æ‹©åˆé€‚çš„æŸ¥è¯¢æ‰§è¡Œç­–ç•¥
3. æ‰§è¡ŒæŸ¥è¯¢: æ ¹æ®æœ€ä¼˜æŸ¥è¯¢æ‰§è¡Œç­–ç•¥æ‰§è¡Œ

### æŸ¥è¯¢ä¼˜åŒ–

#### é€»è¾‘æŸ¥è¯¢è®¡åˆ’ä¼˜åŒ–

æˆ‘ä»¬å¯ä»¥å°†ä»»ä½•å…ƒç»„æ¼”ç®—è¡¨è¾¾å¼(å¦‚SQL)è½¬æ¢ä¸ºç­‰ä»·çš„ä»£æ•°è¡¨è¾¾å¼. åœ¨è½¬æ¢ä¸ºä»£æ•°è¡¨è¾¾å¼çš„è¿‡ç¨‹ä¸­, éœ€è¦è¿›è¡Œå¯å‘å¼ä¼˜åŒ–, è¿™ä¸ªä¼˜åŒ–é€šå¸¸èšç„¦äºŽä¸€å…ƒæ“ä½œ(å¦‚é€‰æ‹©, æŠ•å½±), å› ä¸ºè¿™äº›æ“ä½œå¾€å¾€å¯ä»¥åœ¨æ—©æœŸé˜¶æ®µå°±è¿‡æ»¤æŽ‰å¤§é‡æ•°æ®, ä½¿å¾—æ¯ä¸€æ­¥çš„ä¸­é—´ç»“æžœå°½é‡å°, ä¸­é—´ç»“æžœå°, IOæ“ä½œå°±è¶Šå°‘, ä»Žè€Œæé«˜æ‰§è¡Œæ•ˆçŽ‡.

???+ example "ä¾‹å­"

    === "ä¾‹å­1"

        ä¾‹å¦‚è€ƒè™‘ä»¥ä¸‹çš„æŸ¥è¯¢: "æ‰¾åˆ°åœ¨æ‚‰å°¼æœ‰å®¢æˆ·å­˜æ¬¾çš„é“¶è¡Œçš„èµ„äº§å’Œåç§°". æ•°æ®åº“ä¸­åŒ…å«ä¸‰ä¸ªè¡¨, åˆ†åˆ«æ˜¯`Deposit`, `Customer`, `Branch`, æ¯ä¸ªè¡¨çš„ç»“æž„å¦‚ä¸‹:

        - `Deposit`: åŒ…å«`branchname`, `account#`, `customername`å’Œ`balance`
        - `Customer`: åŒ…å«`customername`, `street`å’Œ`customercity`
        - `Branch`: åŒ…å«`branchname`, `assets`, `branchcity`

        ä¸Šè¿°ç»™å®šæŸ¥è¯¢çš„å…³ç³»è¡¨è¾¾å¼ä¸º: Ï€~Branchname,Assets~(Ïƒ~Customercity=Sydney~(Customerâ‹ˆDepositâ‹ˆBranch)). ä¸Šè¿°ä¸‰ä¸ªè¡¨çš„è‡ªç„¶è¿žæŽ¥å¯èƒ½äº§ç”Ÿä¸€ä¸ªéžå¸¸å¤§çš„å…³ç³», æ— æ³•æ”¾åˆ°å†…å­˜ä¸­. åœ¨è¿™é‡Œ, æˆ‘ä»¬å…¶å®žåªéœ€è¦ä¸€äº›æœ‰ç”¨çš„`Cusomtercity`ä¸º`Sydney`çš„èµ·å§‹å…ƒç»„.

        å¦‚ä¸Šè¿°çš„è¡¨è¾¾å¼å¯ä»¥ä¿®æ”¹ä¸ºÏ€~Branchname,Assets~((Ïƒ~Customercity=Sydney~(Customer))â‹ˆDepositâ‹ˆBranch).

        æ­¤å¤–, åº”è¯¥å°½æ—©ä¸¢å¼ƒä¸å¿…è¦çš„å±žæ€§, å³å°½æ—©æ‰§è¡ŒæŠ•å½±. ä¸€ä¸ªå¯å‘æ˜¯æˆ‘ä»¬åº”è¯¥ç§»é™¤æŽ‰æ‰€æœ‰çš„ä¸åœ¨å‰©ä½™æ“ä½œä¸­èµ·ä½œç”¨çš„å±žæ€§. 

        å¦‚ä¸Šé¢çš„è¡¨è¾¾å¼ä¸­, Ïƒ~Customercity=Sydney~(Customer)â‹ˆDepositè¿™ä¸ªæ“ä½œäº§ç”Ÿçš„å±žæ€§ä¸­, åªæœ‰`branchname`æ˜¯æœ‰ç”¨çš„å±žæ€§, æ‰€ä»¥åº”è¯¥æå‰è¿›è¡ŒæŠ•å½±, ä¿®æ”¹åŽçš„ä»£æ•°è¡¨è¾¾å¼æ˜¯Î ~Branchname,Assets~(Î ~Branchname~(Ïƒ~Customercity=Sydney~(Customer)â‹ˆDeposit)â‹ˆBranch)

        æˆ‘ä»¬èƒ½åšå¾—æ›´å¥½å—? ðŸ˜… å¯ä»¥çš„! æ³¨æ„åˆ°, åœ¨è¿žæŽ¥`Branch`è¡¨çš„æ—¶å€™, `branchcity`è¿™ä¸ªå±žæ€§æ˜¯ä¸ç”¨çš„, æˆ‘ä»¬è¦æŠŠå®ƒæå‰ç§»é™¤, ä¿®æ”¹ä¹‹åŽçš„è¡¨è¾¾å¼æ˜¯Î ~Branchname~(Ïƒ~Customercity=Sydney~(Customer)â‹ˆDeposit)â‹ˆÎ ~Branchname,Assets~(Branch)

    === "ä¾‹å­2"

        - `Deposit`: åŒ…å«`branchname`, `account#`, `customername`å’Œ`balance`
        - `Customer`: åŒ…å«`customername`, `street`å’Œ`customercity`
        - `Branch`: åŒ…å«`branchname`, `assets`, `branchcity`

		è€ƒè™‘ä»¥ä¸‹çš„æŸ¥è¯¢: "æ‰¾åˆ°åœ¨æ‚‰å°¼æœ‰å®¢æˆ·å­˜æ¬¾æ‰¾è¿‡$500çš„é“¶è¡Œçš„èµ„äº§å’Œåç§°". å¯¹äºŽè¿™ä¸ªæŸ¥è¯¢, æœ€åˆç»™å‡ºçš„è¡¨è¾¾å¼æ˜¯Î ~Branchname,Assets~ (Ïƒ~Customercity=Sydneyâˆ§Balance>500~(Customerâ‹ˆDepositâ‹ˆBranch)). æ³¨æ„, æˆ‘ä»¬æ— æ³•ä»…å¯¹`Customer`è¡¨è¿›è¡Œç­›é€‰æ“ä½œ, å› ä¸º`Balance`æ˜¯`Deposit`è¡¨çš„å±žæ€§. 

        éœ€è¦åœ¨`Customer`è¡¨å’Œ`Deposit`è¡¨è¿›è¡Œè¿žæŽ¥ä¹‹åŽ, å†è¿›è¡Œé€‰æ‹©æ“ä½œ. å› æ­¤, æ­£ç¡®çš„è¡¨è¾¾å¼åº”è¯¥æ˜¯: Î ~Branchname,Assets~(Ïƒ~Customercity=Sydneyâˆ§Balance>500~((Customerâ‹ˆDeposit)â‹ˆBranch)).
        
        æˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½å—? ç­”æ¡ˆæ˜¯è‚¯å®šçš„. 

        é¦–å…ˆ, æˆ‘ä»¬èƒ½æŠŠé€‰æ‹©è¯­å¥æ‹†åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†: Î ~Branchname,Assets~(Ïƒ~Customercity=Sydney~(Ïƒ~Balance>500~(Customerâ‹ˆDeposit))â‹ˆBranch)

        ç„¶åŽ, å¯ä»¥åœ¨è¿žæŽ¥ä¹‹å‰å…ˆåº”ç”¨ç­›é€‰æ¡ä»¶: Î ~Branchname,Assets~(Ïƒ~Customercity=Sydney~(Customer)â‹ˆÏƒ~Balance>500~(Deposit)â‹ˆBranch)

        è¿™æ ·èƒ½å¤Ÿè¿›ä¸€æ­¥å‡å°‘ä¸­é—´çš„æ•°æ®è§„æ¨¡. 

#### ç­‰ä»·ä»£æ•°è¡¨è¾¾å¼è½¬åŒ–è§„åˆ™

- äº¤æ¢å¾‹: R1â‹ˆR2=R2â‹ˆR1
- ç»“åˆå¾‹: (R1â‹ˆR2)â‹ˆR3=R1â‹ˆ(R2â‹ˆR3)
- æŠ•å½±çš„çº§è”: å¦‚æžœB1, ..., Bnæ˜¯A1, ..., Ançš„å­é›†, é‚£ä¹ˆÎ ~B1,...,Bn~(Î ~A1,...,An~(R))=Î ~B1,...,Bn~(R)
- é€‰æ‹©çš„çº§è”: Ïƒ~Î¸1~(Ïƒ~Î¸2~(R))=Ïƒ~Î¸2~(Ïƒ~Î¸1~(R))=Ïƒ~Î¸1âˆ§Î¸2~(R)
- é€‰æ‹©å¯¹è¿žæŽ¥çš„åˆ†é…æ€§: Ïƒ~Î¸~(R1â‹ˆR2)=(Ïƒ~Î¸~(R1))â‹ˆR2, å½“Î¸åªæ¶‰åŠR1çš„å±žæ€§æ—¶

???+ example "ä¾‹å­"

    è€ƒè™‘å¦‚ä¸‹çš„å…³ç³»: 

    - `Deposit`: åŒ…å«`branchname`, `account#`, `customername`å’Œ`balance`
    - `Customer`: åŒ…å«`customername`, `street`å’Œ`customercity`
    - `Branch`: åŒ…å«`branchname`, `assets`, `branchcity `

    è€ƒè™‘ä»¥ä¸‹çš„æŸ¥è¯¢: "æ‰¾åˆ°åœ¨æ‚‰å°¼æœ‰å®¢æˆ·å­˜æ¬¾æ‰¾è¿‡$500çš„é“¶è¡Œçš„èµ„äº§å’Œåç§°". å¯¹äºŽè¿™ä¸ªæŸ¥è¯¢, æœ€åˆç»™å‡ºçš„è¡¨è¾¾å¼æ˜¯Î ~Branchname,Assets~ (Ïƒ~Customercity=Sydneyâˆ§Balance>500~(Customerâ‹ˆDepositâ‹ˆBranch)). æ³¨æ„, æˆ‘ä»¬æ— æ³•ä»…å¯¹`Customer`è¡¨è¿›è¡Œç­›é€‰æ“ä½œ, å› ä¸º`Balance`æ˜¯`Deposit`è¡¨çš„å±žæ€§. 

    æ ¹æ®é€‰æ‹©å¯¹è¿žæŽ¥çš„åˆ†é…æ€§, æœ‰Î ~Branchname,Assets~(Ïƒ~Customercity=Sydneyâˆ§Balance>500~((Customerâ‹ˆDeposit)â‹ˆBranch)).

    æ ¹æ®é€‰æ‹©çš„çº§è”, æœ‰Î ~Branchname,Assets~(Ïƒ~Customercity=Sydney~(Ïƒ~Balance>500~(Customerâ‹ˆDeposit))â‹ˆBranch)

    ä½¿ç”¨ä¸¤æ¬¡é€‰æ‹©å¯¹è¿žæŽ¥çš„åˆ†é…æ€§, æœ‰Î ~Branchname,Assets~(Ïƒ~Customercity=Sydney~(Customer)â‹ˆÏƒ~Balance>500~(Deposit)â‹ˆBranch)